{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "device_attribute",
  "description": "Attributes of the device which is received/set by gateway/account",
  "type": "object",
  "properties": {
    "_id": {
      "description": "Unique mongodb id for a document. Auto generated",
      "type": "string",
      "index": {
        "$ref": "/indexes/_id"
      }
    },
    "device_id": {
      "description": "Device mongodb '_id' field value",
      "type": "string",
      "default": null
    },
    "attribute_name": {
      "description": "Device attribute name. For ex. LIGHT_ON_OFF",
      "type": "string"
    },
    "attribute_received_value": {
      "description": "The value of the attribute received from the device. For eg. 1",
      "type": "string"
    },
    "attribute_default_value": {
      "description": "The default value for the attribute of the device. For eg. 0",
      "type": "string",
      "default": ""
    },
    "attribute_boundary_value": {
      "description": "The boundary value for the attribute of the device. For eg. min: 0 and max: 100",
      "type": "object",
      "properties": {
        "min": {
          "type": "string"
        },
        "max": {
          "type": "string"
        }
      }
    },
    "attribute_expected_value": {
      "description": "The expected value for the attribute of the device. To be set by user For eg. 1",
      "type": "string",
      "default": ""
    },
    "attribute_value_unit": {
      "description": "The unit for the value of the attribute in the device. For eg. C/F in temprature, Lux in light brightness",
      "type": "string",
      "default": ""
    },
    "attribute_value_set_delay": {
      "description": "The delay in seconds for the value to be set for the attribute in the device. For eg. delay to switch on light after motion detected",
      "type": "string",
      "default": ""
    },
    "attribute_ifttt_rule": {
      "description": "IFTTT rule linked to this attribute generated by account. For eg. on motion detect what to do?",
      "type": "array",
      "items": {
        "description": "IFTTT mongodb '_id' field value",
        "type": "string"
      },
      "minItems": 1,
      "uniqueItems": true
    },
    "is_deleted": {
      "description": "Attribute is deleted or not",
      "type": "boolean",
      "default": false
    },
    "created_on": {
      "description": "Document created time",
      "type": "string",
      "default": "Datetime object from python"
    },
    "updated_on": {
      "description": "Document updated time",
      "type": "string",
      "default": "Datetime object from python"
    }
  },
  "required": [
    "device_id",
    "device_attribute_name"
  ],
  "indexes": {
    "_id": {
      "description": "Mongo DB default index on document",
      "type": "string"
    }
  }
}